/**
 * Created by Luis Eduardo Altino on 24/03/2017.
 * (ads.luis.sobrinho@gmail.com)
 * (luis.eduardo@ddsw.com.br)
 * Evaluation Notification
 * Version: 1.0
 * (c) Copyright.com.br
 */
var EvaluationNotification=function(){};!function(){"use strict";var a=window,b=document,c=$(b),d=a.console.info,e=a.console.warn;EvaluationNotification.prototype.params={title:"Evaluate",text:"Evaluate us and leave your comment as this is very valuable",type:"star",times:3,url:"https://github.com/luissobrinho/Evaluation-Notification",bttnYesCallBack:!1,bttnYesText:"GIVE 5 STARS",bttnYesClass:"",bttnNoCallBack:!1,bttnNoText:"NOT NOW",bttnNoClass:"",bttnAfterCallBack:!1,bttnAfterText:"REMEMBER ME",bttnAfterClass:"",animation:{aIn:"bounceInUp",aOut:"bounceOutDown",delay:1e3}},EvaluationNotification.prototype.setParamsDefault=function(){EvaluationNotification.params={title:"Evaluate",text:"Evaluate us and leave your comment as this is very valuable",type:"star",times:3,url:"https://github.com/luissobrinho/Evaluation-Notification",bttnYesCallBack:!1,bttnYesText:"GIVE 5 STARS",bttnYesClass:"",bttnNoCallBack:!1,bttnNoText:"NOT NOW",bttnNoClass:"",bttnAfterCallBack:!1,bttnAfterText:"REMEMBER ME",bttnAfterClass:"",animation:{aIn:"bounceInUp",aOut:"bounceOutDown",delay:1e3}}},EvaluationNotification.prototype.setParams=function(){$.each(arguments[0],function(a,b){EvaluationNotification.params[a]=b})},EvaluationNotification.prototype.close=function(){c.find(".evnt-section").removeClass(EvaluationNotification.params.animation.aIn).addClass(EvaluationNotification.params.animation.aOut).delay(EvaluationNotification.params.animation.delay).queue(function(){$(this).closest(".evnt-body").remove()})},EvaluationNotification.prototype.injectedHTML=function(){var a='<div class="evnt-body"><div class="evnt-section animated '+EvaluationNotification.params.animation.aIn+'"><h1>'+EvaluationNotification.params.title+"</h1>";a+="star"===EvaluationNotification.params.type?'<div class="evnt-star"><i class="zmdi zmdi-star-outline"></i><i class="zmdi zmdi-star-outline"></i><i class="zmdi zmdi-star-outline"></i><i class="zmdi zmdi-star-outline"></i><i class="zmdi zmdi-star-outline"></i></div>':"",a+="<p>"+EvaluationNotification.params.text+'</p><div class="evnt-group-bttn"><button id="bttn-yes" class="bttn '+EvaluationNotification.params.bttnYesClass+'">'+EvaluationNotification.params.bttnYesText+'</button><button id="bttn-no" class="bttn '+EvaluationNotification.params.bttnNoClass+'">'+EvaluationNotification.params.bttnNoText+'</button><button id="bttn-after" class="bttn '+EvaluationNotification.params.bttnAfterClass+'">'+EvaluationNotification.params.bttnAfterText+"</button></div></div> </div>",c.find("body").append(a),setTimeout(function(){var a=$(".evnt-section").find(".evnt-star"),b=a.find(".zmdi-star-outline"),d=(b.length,0);b.each(function(){var a=$(this);setTimeout(function(){a.addClass("animated swing zmdi-star").delay(1e3).queue(function(){a.removeClass("zmdi-star-outline")})},d+=1e3)})},100)},EvaluationNotification.prototype.open=function(a,b){return a?(EvaluationNotification.setParams(a),EvaluationNotification.injectedHTML(),b?"function"==typeof b?(b(),this):(e("CallBack Open not function"),!1):void 0):(e("Requires arguments"),!1)},EvaluationNotification.prototype.autoOpen=function(a){localStorage.time?a.params.times/localStorage.time===1?a.open({}):localStorage.time++:localStorage.time=1},EvaluationNotification.prototype.handleExternalURLs=function(){"device"in window?"ANDROID"===device.platform.toUpperCase()?navigator.app.loadUrl(EvaluationNotification.params.url,{openExternal:!0}):"IOS"===device.platform.toUpperCase()&&window.open(EvaluationNotification.params.url,"_system"):window.open(EvaluationNotification.params.url,"_blank")},c.on("click","#bttn-yes",function(){localStorage.time=4,EvaluationNotification.params.bttnYesCallBack&&("function"==typeof EvaluationNotification.params.bttnYesCallBack?EvaluationNotification.params.bttnYesCallBack():e("CallBack bttnYesCallBack not function")),EvaluationNotification.handleExternalURLs(),EvaluationNotification.setParamsDefault(),EvaluationNotification.close()}),c.on("click","#bttn-no",function(){localStorage.time=4,EvaluationNotification.params.bttnNoCallBack&&("function"==typeof EvaluationNotification.params.bttnNoCallBack?EvaluationNotification.params.bttnNoCallBack():e("CallBack bttnNoCallBack not function")),EvaluationNotification.setParamsDefault(),EvaluationNotification.close()}),c.on("click","#bttn-after",function(){localStorage.time=1,EvaluationNotification.params.bttnAfterCallBack&&("function"==typeof EvaluationNotification.params.bttnAfterCallBack?EvaluationNotification.params.bttnAfterCallBack():e("CallBack bttnAfterCallBack not function")),EvaluationNotification.setParamsDefault(),EvaluationNotification.close()}),d("Evaluation Notification Initialized")}(),window.EvaluationNotification=window.evnt=new EvaluationNotification;